<!-- shared markup -->
{% template metric %}
<div style="display: inline-block; font-size: 3em">
  <div style="display: inline-block">
    <span class="text--center bg--gray-6" style="display: block; filter: grayscale(100%)">{{ icon }}</span>
    {% render 'metricSvg', status: status %}
  </div>
</div>
{% endtemplate %}

{% template metricSvg %}
<svg viewBox="0 0 32 54">
  {% for i in (0..5) %}
    <!-- Bar {{ i | plus: 1 }} -->
    <rect
      x="0"
      y="{{ i | times: 9 }}"
      width="32"
      height="7"
      rx="5"
      fill="{% if i == status %}#1c9c59{% else %}black{% endif %}"
    />
  {% endfor %}
</svg>
{% endtemplate %}

<div class="view view--full">
  <div class="layout">
    <div class="grid gap-large">
      {% for flower in plants %}
        <div class="content border border-2 border-gray-300 border-dashed p-2.5 rounded-xl">
          <span class="title text--white bg--gray-2 pl--2 px--1 mb--2">{{ flower.nickname }}</span>
          <img
            class="image-dither w--20"
            src="{{ flower.plant_thumb_path }}"
            alt="{{ flower.name }}"
            style="aspect-ratio: 1/1; object-fit: cover; border-radius: 1em; filter: grayscale(100%); vertical-align: top"
          >
          {% render 'metric', status: flower.moisture_status, icon: '💧' %}
          {% render 'metric', status: flower.temperature_status, icon: '🌡' %}
          {% render 'metric', status: flower.light_status, icon: '☀️' %}
        </div>
      {% endfor %}
    </div>
  </div>
  <div class="title_bar">
    <span class="title">FYTA Plants</span>
  </div>
</div>
